<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Controller - Introduzione alla Programmazione per il Web</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="../../../favicon.svg">
        
        
        <link rel="shortcut icon" href="../../../favicon.png">
        
        <link rel="stylesheet" href="../../../css/variables.css">
        <link rel="stylesheet" href="../../../css/general.css">
        <link rel="stylesheet" href="../../../css/chrome.css">
        
        <link rel="stylesheet" href="../../../css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="../../../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../../../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../../highlight.css">
        <link rel="stylesheet" href="../../../tomorrow-night.css">
        <link rel="stylesheet" href="../../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../../../introduzione.html">Introduzione</a></li><li class="chapter-item expanded "><a href="../../../corsi/modern-web-development/introduzione.html"><strong aria-hidden="true">1.</strong> Modern Web Development</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../corsi/modern-web-development/uso-del-terminale.html"><strong aria-hidden="true">1.1.</strong> Uso del terminale</a></li><li class="chapter-item expanded "><a href="../../../corsi/modern-web-development/git-e-github.html"><strong aria-hidden="true">1.2.</strong> Git &amp; Github</a></li><li class="chapter-item expanded "><a href="../../../corsi/modern-web-development/model-view-controller.html"><strong aria-hidden="true">1.3.</strong> Model View Controller</a></li><li class="chapter-item expanded "><a href="../../../corsi/modern-web-development/protocollo-rest.html"><strong aria-hidden="true">1.4.</strong> Protocollo REST</a></li><li class="chapter-item expanded "><a href="../../../corsi/modern-web-development/laravel/introduzione.html"><strong aria-hidden="true">1.5.</strong> Il Framework Laravel</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../corsi/modern-web-development/laravel/orm.html"><strong aria-hidden="true">1.5.1.</strong> ORM</a></li><li class="chapter-item expanded "><a href="../../../corsi/modern-web-development/laravel/migrazioni.html"><strong aria-hidden="true">1.5.2.</strong> Migrazioni</a></li><li class="chapter-item expanded "><a href="../../../corsi/modern-web-development/laravel/routing.html"><strong aria-hidden="true">1.5.3.</strong> Routing</a></li><li class="chapter-item expanded "><a href="../../../corsi/modern-web-development/laravel/controller.html" class="active"><strong aria-hidden="true">1.5.4.</strong> Controller</a></li></ol></li><li class="chapter-item expanded "><a href="../../../corsi/modern-web-development/vue/introduzione.html"><strong aria-hidden="true">1.6.</strong> Il Framework Vue</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../corsi/modern-web-development/vue/data-binding.html"><strong aria-hidden="true">1.6.1.</strong> Data Binding</a></li><li class="chapter-item expanded "><a href="../../../corsi/modern-web-development/vue/methods-mounted-e-computed.html"><strong aria-hidden="true">1.6.2.</strong> Methods, Mounted &amp; Computed</a></li><li class="chapter-item expanded "><a href="../../../corsi/modern-web-development/vue/programmazione-async.html"><strong aria-hidden="true">1.6.3.</strong> Programmazione Async</a></li></ol></li><li class="chapter-item expanded "><a href="../../../corsi/modern-web-development/tailwind-css.html"><strong aria-hidden="true">1.7.</strong> Il Framework Tailwind CSS</a></li></ol></li><li class="chapter-item expanded "><a href="../../../corsi/vanilla-php/introduzione.html"><strong aria-hidden="true">2.</strong> Vannilla PHP</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../teoria.html"><strong aria-hidden="true">2.1.</strong> Teoria</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../php.html"><strong aria-hidden="true">2.1.1.</strong> PHP</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../basi_internet_php.html"><strong aria-hidden="true">2.1.1.1.</strong> Introduzione</a></li><li class="chapter-item expanded "><a href="../../../variabili.html"><strong aria-hidden="true">2.1.1.2.</strong> Variabili</a></li><li class="chapter-item expanded "><a href="../../../selezione.html"><strong aria-hidden="true">2.1.1.3.</strong> Selezione</a></li><li class="chapter-item expanded "><a href="../../../iterazione.html"><strong aria-hidden="true">2.1.1.4.</strong> Iterazione</a></li><li class="chapter-item expanded "><a href="../../../array.html"><strong aria-hidden="true">2.1.1.5.</strong> Array</a></li><li class="chapter-item expanded "><a href="../../../funzioni.html"><strong aria-hidden="true">2.1.1.6.</strong> Funzioni</a></li></ol></li><li class="chapter-item expanded "><a href="../../../intro_database.html"><strong aria-hidden="true">2.1.2.</strong> Database</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../database.html"><strong aria-hidden="true">2.1.2.1.</strong> Introduzione</a></li></ol></li><li class="chapter-item expanded "><a href="../../../intro_git.html"><strong aria-hidden="true">2.1.3.</strong> Versionamento Codice</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../git.html"><strong aria-hidden="true">2.1.3.1.</strong> Introduzione</a></li></ol></li><li class="chapter-item expanded "><a href="../../../intro_ui_design.html"><strong aria-hidden="true">2.1.4.</strong> UI/UX</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../flexbox.html"><strong aria-hidden="true">2.1.4.1.</strong> Flexbox</a></li></ol></li><li class="chapter-item expanded "><a href="../../../intro_architettura_web.html"><strong aria-hidden="true">2.1.5.</strong> Architettura Web</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../design_patterns.html"><strong aria-hidden="true">2.1.5.1.</strong> Design Patterns</a></li><li class="chapter-item expanded "><a href="../../../servizi.html"><strong aria-hidden="true">2.1.5.2.</strong> Servizi Web</a></li><li class="chapter-item expanded "><a href="../../../web_software_design.html"><strong aria-hidden="true">2.1.5.3.</strong> Web Software Design</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../esercizi.html"><strong aria-hidden="true">2.2.</strong> Esercizi</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../esercizi_basi_php.html"><strong aria-hidden="true">2.2.1.</strong> Basi di PHP</a></li><li class="chapter-item expanded "><a href="../../../esercizi_selezione_iterazione.html"><strong aria-hidden="true">2.2.2.</strong> Selezione &amp; Iterazione</a></li><li class="chapter-item expanded "><a href="../../../esercizi_array.html"><strong aria-hidden="true">2.2.3.</strong> Array</a></li><li class="chapter-item expanded "><a href="../../../esercizi_database.html"><strong aria-hidden="true">2.2.4.</strong> Database</a></li><li class="chapter-item expanded "><a href="../../../simulazioni_esami.html"><strong aria-hidden="true">2.2.5.</strong> Simulazioni Esami</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../portale_pagamenti_pa.html"><strong aria-hidden="true">2.2.5.1.</strong> Portale Pagamenti PA</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../soluzioni.html"><strong aria-hidden="true">2.3.</strong> Soluzioni</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../esericizi_cicli_for.html"><strong aria-hidden="true">2.3.1.</strong> Cicli For</a></li><li class="chapter-item expanded "><a href="../../../esercizi_scacchiera.html"><strong aria-hidden="true">2.3.2.</strong> Scacchiera</a></li><li class="chapter-item expanded "><a href="../../../esercizi_form_colori.html"><strong aria-hidden="true">2.3.3.</strong> Form &amp; Colori</a></li><li class="chapter-item expanded "><a href="../../../utenti_crud.html"><strong aria-hidden="true">2.3.4.</strong> Utenti CRUD</a></li><li class="chapter-item expanded "><a href="../../../utenti_crud_edit.html"><strong aria-hidden="true">2.3.5.</strong> Utenti CRUD con Edit</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../contributing.html"><strong aria-hidden="true">3.</strong> Contribuire al Libro</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Introduzione alla Programmazione per il Web</h1>

                    <div class="right-buttons">
                        
                        <a href="../../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#controller" id="controller">Controller</a></h1>
<h2><a class="header" href="#cosè-un-controller" id="cosè-un-controller">Cos'è un controller</a></h2>
<p>Il <strong>Controller</strong> è il punto di ingresso per qualsiasi applicazione basata sul framework MVC: riceve le richieste HTTP in arrivo e le elabora comunicando con modelli e viste, restituendo il risultato alla pagina web.</p>
<h3><a class="header" href="#sintassi" id="sintassi">Sintassi</a></h3>
<p>I controller possono essere creati utilizzando il seguente commando:</p>
<pre><code class="language-bash">php artisan make:controller &lt;controller-name&gt;
</code></pre>
<p>Sostiisci il <code>&lt;controller-name&gt;</code> con il nome che ti piace per il controller che stai creando.</p>
<p>Una volta seguito il comando precedente, verrá creato un file di classe controller con un codice controller di base nella cartella controller, situata in <code>/App/HTTP/Controllers</code></p>
<h2><a class="header" href="#metodi" id="metodi">Metodi</a></h2>
<p>In qualsiasi applicazione web CRUD (Create, Read, Update and Delete) solo le operazioni di base su una risosrsa. Con un controller di risorse si ottiene una stuttura di controller generica che include tutti i metodi per eseguire operazioni CRUD. In Laravel, utilizzando un singolo comando é possibile creare un controller di risorse</p>
<h3><a class="header" href="#sintassi-1" id="sintassi-1">Sintassi</a></h3>
<p>In Laravel, il comando utilizzato per creare un controller di risorse é lo stesso del controller normale, solo alla fine dobbiamo aggiungere il suffisso <code>resource</code>.</p>
<pre><code class="language-bash">php artisan make:controller PostController --resource
</code></pre>
<p>Una volta eseguito il comando precedente, nella cartella controller, situata in <code>/App/HTTP/Controllers</code>, verrá creato un file di classe controller <code>PostController.php</code> con i <strong>metodi</strong> di:</p>
<ul>
<li>indicizzazione</li>
<li>creazione</li>
<li>archiviazione</li>
<li>visualizzazione</li>
<li>modifica</li>
<li>aggiornamento </li>
<li>distruzione</li>
</ul>
<h2><a class="header" href="#requestresponse" id="requestresponse">Request/Response</a></h2>
<h3><a class="header" href="#risposta-base" id="risposta-base">Risposta Base</a></h3>
<p>La risposta più semplice da una route Laravel è una stringa:</p>
<pre><code class="language-php">Route::get('/', function()
{
    return 'Hello World';
});
</code></pre>
<h3><a class="header" href="#risposta-personalizzata" id="risposta-personalizzata">Risposta Personalizzata</a></h3>
<p>Tuttavia, per la maggior parte delle rotte e delle azioni del controller, restituirai <code>Illuminate\Http\Response</code> un'istanza completa o una <strong>vista</strong>.
La restituzione di un'istanza <code>Response</code> completa consente di personalizzare il codice di stato HTTP e le intestazioni della risposta.
A istanza <code>Response</code> eredita dalla classe <code>Symfony\Component\HttpFoundation\Response</code>, fornendo una varietà di metodi per costruire risposte HTTP:</p>
<pre><code class="language-php">use Illuminate\Http\Response;

return (new Response($content, $status))
              -&gt;header('Content-Type', $value);
</code></pre>
<p>Per comodità, puoi anche usare il <code>Response</code> helper:</p>
<pre><code class="language-php">return response($content, $status)
              -&gt;header('Content-Type', $value);
</code></pre>
<h3><a class="header" href="#request" id="request">Request</a></h3>
<p>Utilizzando alcuni semplici metodi, puoi accedere a tutti gli input dell'utente dalla tua istanza <code>Illuminate\Http\Request</code>. Non è necessario preoccuparsi del verbo HTTP utilizzato per la richiesta, poiché si accede all'input allo stesso modo per tutti i verbi.</p>
<pre><code class="language-php">$name = Request::input('name');
</code></pre>
<p>Recupero di un valore predefinito se il valore di input è assente</p>
<pre><code class="language-php">$name = Request::input('name', 'Sally');
</code></pre>
<p>Determinare se è presente un valore di input</p>
<pre><code class="language-php">if (Request::has('name'))
{
    //
}
</code></pre>
<p>Ottenere tutti gli input per la richiesta</p>
<pre><code class="language-php">$input = Request::all(); 
</code></pre>
<p>Ottenere solo una parte dell'input della richiesta</p>
<pre><code class="language-php">$input = Request::only('username', 'password');

$input = Request::except('credit_card');
</code></pre>
<p>Quando si lavora su moduli con input <code>array</code>, è possibile utilizzare la notazione a punti per accedere agli array:</p>
<pre><code class="language-php">$input = Request::input('products.0.name');
</code></pre>
<h2><a class="header" href="#codici-di-stato-http" id="codici-di-stato-http">Codici di Stato HTTP</a></h2>
<h3><a class="header" href="#--200-ok" id="--200-ok">- 200: OK</a></h3>
<p>La richiesta è andata a buon fine. Il significato di un successo varia a seconda del metodo HTTP: </p>
<ul>
<li>GET: la risorsa è stata recuperata e viene trasmessa nel corpo del messaggio. </li>
<li>HEAD: le intestazioni dell'entità si trovano nel corpo del messaggio. </li>
<li>POST: la risorsa che descrive il risultato dell'azione viene trasmessa nel corpo del messaggio. </li>
<li>TRACE: il corpo del messaggio contiene il messaggio di richiesta ricevuto dal server.</li>
</ul>
<h3><a class="header" href="#--201-created" id="--201-created">- 201: Created</a></h3>
<p>La richiesta è andata a buon fine e come risultato è stata creata una nuova risorsa. Questa è in genere la risposta inviata dopo una richiesta PUT.</p>
<h3><a class="header" href="#--400-bad-request" id="--400-bad-request">- 400: Bad Request</a></h3>
<p>Questa risposta significa che il server non è stato in grado di comprendere la richiesta a causa di una sintassi non valida</p>
<h3><a class="header" href="#--401-unauthorized" id="--401-unauthorized">- 401: Unauthorized</a></h3>
<p>Sebbene lo standard HTTP specifichi &quot;non autorizzato&quot;, semanticamente questa risposta significa &quot;non autenticato&quot;. Cioè, il client deve autenticarsi per ottenere la risposta richiesta.</p>
<h3><a class="header" href="#--404-not-found" id="--404-not-found">- 404: Not Found</a></h3>
<p>Il server non riesce a trovare la risorsa richiesta. Nel browser, questo significa che l'URL non viene riconosciuto. In un'API, questo può anche significare che l'endpoint è valido ma la risorsa stessa non esiste. I server possono anche inviare questa risposta invece di 403 per nascondere l'esistenza di una risorsa a un client non autorizzato. Questo codice di risposta è probabilmente il più famoso a causa della sua frequente presenza sul web.</p>
<h3><a class="header" href="#--422-unprocessable-entity" id="--422-unprocessable-entity">- 422: Unprocessable Entity</a></h3>
<p>La richiesta era ben formata ma non è stato possibile seguirla a causa di errori semantici.</p>
<h3><a class="header" href="#--500-internal-server-error" id="--500-internal-server-error">- 500: Internal Server Error</a></h3>
<p>Il server ha riscontrato una situazione che non sa come gestire.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../../../corsi/modern-web-development/laravel/routing.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../../../corsi/modern-web-development/vue/introduzione.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../../../corsi/modern-web-development/laravel/routing.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../../../corsi/modern-web-development/vue/introduzione.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        
        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3000/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
